
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Code for Cookies  | Spenser Jones</title>

<meta name="author" content="Spenser Jones"> 

<meta name="description" content="There are two major players in the Domain Name System server market: Bind and NSD. The former has been around since the 1980s and makes up a &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Spenser Jones" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Spenser Jones</a></h1>
<h4>Code for Cookies</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="https://github.com/SpenserJ">GitHub</a></li>
  <li><a href="http://labs.spenserj.com/resume">Resume</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="https://github.com/SpenserJ">GitHub</a></li>
  <li><a href="http://labs.spenserj.com/resume">Resume</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:SpenserJ.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/07/12/setting-up-nsd3-for-dns/">
		
			Setting Up NSD3 for DNS</a>
	</h2>
	<div class="entry-content">
		<p>There are two major players in the Domain Name System server market: <a href="https://www.isc.org/downloads/bind/">Bind</a> and <a href="https://www.nlnetlabs.nl/projects/nsd/">NSD</a>. The former has been around since the 1980s and makes up a majority of the installations in use today, while the latter saw its first release around the turn of the century, and is designed to be purely authoritative (incapable of recursive DNS queries). While selecting a DNS server for <a href="https://ambrose.edu">Ambrose University College</a>, NSD&rsquo;s ability to easily run from a Chroot, and its lightweight footprint (currently using 69MB of RAM for the entire server), easily won our vote. Furthermore, NSD can make use of BIND&rsquo;s zonefiles, and the migration from our old server was complete in a matter of minutes.</p>


		
		<a href="/blog/2013/07/12/setting-up-nsd3-for-dns/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-07-12T11:31:00-06:00" pubdate data-updated="true">Jul 12<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/dns/'>DNS</a>, <a class='category' href='/blog/categories/server-administration/'>Server Administration</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/07/12/testing-1-2-3-this-is-a-test/">
		
			Testing, 1 2 3. This Is a Test.</a>
	</h2>
	<div class="entry-content">
		<p>I&rsquo;ve decided to give <a href="http://octopress.org/">Octopress</a> a chance, and so far I&rsquo;m enjoying it far more than <a href="https://drupal.org/">Drupal</a>. While a content management framework is great, I&rsquo;ve always found that there is far too much bloat for it to be used as a blogging platform. On top of that, <a href="http://daringfireball.net/projects/markdown/">Markdown</a> is a fantastic language, and being able to easily write beautiful code through it is extremely enticing.</p>

<p>Only time will tell if this results in me posting more frequently, but I&rsquo;m optimistic.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-07-12T10:54:00-06:00" pubdate data-updated="true">Jul 12<span>th</span>, 2013</time></div>
	<div class="tags">

</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/05/14/building-the-science-lab/">
		
			Building the Science Lab</a>
	</h2>
	<div class="entry-content">
		<p>There have been a significant number of bugs with the <a href="http://pecl.php.net/package/APC">Alternative PHP Cache (APC)</a> over the past year, causing me to pass over PHP updates for fear of segfaults, however that has finally come to an end. APC is still just as buggy, but <a href="https://wiki.php.net/rfc/optimizerplus">PHP 5.5</a> will be bringing <a href="http://pecl.php.net/package/ZendOpcache">Zend OPCache</a> to the core, so I&rsquo;ve decided to transition early and configure the PECL package. As Zend OPCache does not come with a User Cache, I decided to set up Memcache on the <a href="https://ambrose.edu/">Ambrose University College</a> Drupal website, and was seeing benchmarks of around 65 requests per second (up from 30-35 req/sec with APC only).</p>

<p>As <a href="https://github.com/krakjoe/apcu">APCu</a> (userland caching) continues to branch from the crusty old APC branch, and the old APC Opcaching code is remove, I&rsquo;ll be running a few tests to see whether APCu can bring more to the table than Memcache can, as I have no need for the distributed functionality that Memcache provides.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-05-14T19:53:00-06:00" pubdate data-updated="true">May 14<span>th</span>, 2013</time></div>
	<div class="tags">

</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/05/14/spring-cleaning/">
		
			Spring Cleaning</a>
	</h2>
	<div class="entry-content">
		<p>I&rsquo;ve decided to wipe out a few years worth of hastily written blog posts and start fresh. Fitting, given that I&rsquo;m also switching to <a href="http://spenserj.com">SpenserJ.com</a> as my domain name, after waiting for it to expire for the better part of two years. My vision is for this site to be a landing zone for the various ideas and tweaks that come to me every week.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-05-14T13:39:00-06:00" pubdate data-updated="true">May 14<span>th</span>, 2013</time></div>
	<div class="tags">

</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/14/upgrading-a-moodle-1-dot-9-block-to-2-dot-0/">
		
			Upgrading a Moodle 1.9 Block to 2.0</a>
	</h2>
	<div class="entry-content">
		<p>I recently went through the process of upgrading a Moodle 1.9 block for Panopto, to support Moodle 2.0, which came out in January. As Moodle 2.0 is a huge rewrite, and is still fairly fresh, there is very little documentation on what changes need to be made, or even what functions are deprecated and need replacing. In order to upgrade the plugin at Ambrose University College, I read through multiple core classes, and compared functions in 1.9 to 2.0. In order to make things easier for myself in the future, and for anyone else upgrading a block, I have documented my changes.</p>

<p>Language strings must be listed in <code>blockname/lang/en/block_blockname.php</code>, and one of the strings must be the plugin name:</p>

<figure class='code'><figcaption><span>blockname/lang/en/block_blockname.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="nv">$string</span><span class="p">[</span><span class="s1">&#39;pluginname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Epic Block&#39;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$string</span><span class="p">[</span><span class="s1">&#39;name_of_string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;English version of string&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The version has been moved from <code>blockname/blocks_blockname.php</code> to <code>blockname/version.php</code>. The format of the version remains the same (yyyymmdd00, where 00 can increment if you release multiple patches on a single day)</p>

<figure class='code'><figcaption><span>blockname/version.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="nv">$plugin</span><span class="o">-&gt;</span><span class="na">version</span> <span class="o">=</span> <span class="mi">2011040800</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The function for checking if the current user is a teacher who can edit the current course has changed, as have a few others, so use this as a base, and read through the core classes for the correct values.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">if</span><span class="p">(</span><span class="nx">isteacheredit</span><span class="p">(</span><span class="nv">$COURSE</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">))</span> <span class="p">{</span>
</span></code></pre></td></tr></table></div></figure>


<p>has now become</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$context</span> <span class="o">=</span> <span class="nx">get_context_instance</span><span class="p">(</span><span class="nx">CONTEXT_COURSE</span><span class="p">,</span> <span class="nv">$COURSE</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nx">has_capability</span><span class="p">(</span><span class="s1">&#39;moodle/course:update&#39;</span><span class="p">,</span> <span class="nv">$context</span><span class="p">))</span> <span class="p">{</span>
</span></code></pre></td></tr></table></div></figure>


<p>Stylesheets are now in <code>style.css</code>, instead of <code>style.php</code>.</p>

<p>Configuration files have also changed, as <code>config_instance.html</code> has been replaced with <code>edit_form.php</code> (below), and <code>config_global.html</code> has been replaced with <code>settings.php</code> (below <code>edit_form.php</code>).</p>

<figure class='code'><figcaption><span>edit_form.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">require_once</span><span class="p">(</span><span class="s2">&quot;lib/panopto_data.php&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">block_panopto_edit_form</span> <span class="k">extends</span> <span class="nx">block_edit_form</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">protected</span> <span class="k">function</span> <span class="nf">specific_definition</span><span class="p">(</span><span class="nv">$mform</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">global</span> <span class="nv">$COURSE</span><span class="p">,</span> <span class="nv">$CFG</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Construct the Panopto data proxy object</span>
</span><span class='line'>    <span class="nv">$panopto_data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">panopto_data</span><span class="p">(</span><span class="nv">$COURSE</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$panopto_data</span><span class="o">-&gt;</span><span class="na">servername</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$panopto_data</span><span class="o">-&gt;</span><span class="na">instancename</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$panopto_data</span><span class="o">-&gt;</span><span class="na">applicationkey</span><span class="p">))</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nv">$mform</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="s1">&#39;header&#39;</span><span class="p">,</span> <span class="s1">&#39;configheader&#39;</span><span class="p">,</span> <span class="s1">&#39;Select the Panopto CourseCast course to display in this block.&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>      <span class="nv">$params</span><span class="o">-&gt;</span><span class="na">course_ids</span> <span class="o">=</span> <span class="nv">$COURSE</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
</span><span class='line'>      <span class="nv">$params</span><span class="o">-&gt;</span><span class="na">return_url</span> <span class="o">=</span> <span class="nb">urlencode</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_URI&#39;</span><span class="p">]);</span>
</span><span class='line'>      <span class="nv">$query_string</span> <span class="o">=</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$provision_url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">$CFG-&gt;wwwroot</span><span class="s2">/blocks/panopto/provision_course.php?&quot;</span> <span class="o">.</span> <span class="nv">$query_string</span><span class="p">;</span>
</span><span class='line'>      <span class="nv">$course_list</span> <span class="o">=</span> <span class="nv">$panopto_data</span><span class="o">-&gt;</span><span class="na">get_course_options</span><span class="p">(</span><span class="nv">$provision_url</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$mform</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="s1">&#39;selectgroups&#39;</span><span class="p">,</span> <span class="s1">&#39;config_course&#39;</span><span class="p">,</span> <span class="s1">&#39;Course&#39;</span><span class="p">,</span> <span class="nv">$course_list</span><span class="p">[</span><span class="s1">&#39;courses&#39;</span><span class="p">]);</span>
</span><span class='line'>      <span class="nv">$mform</span><span class="o">-&gt;</span><span class="na">setDefault</span><span class="p">(</span><span class="s1">&#39;config_course&#39;</span><span class="p">,</span> <span class="nv">$course_list</span><span class="p">[</span><span class="s1">&#39;selected&#39;</span><span class="p">]);</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$mform</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Cannot configure block instance: Global configuration incomplete. Please contact your system administrator.&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>settings.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>
</span><span class='line'><span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;MOODLE_INTERNAL&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="k">die</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$ADMIN</span><span class="o">-&gt;</span><span class="na">fulltree</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">admin_setting_configtext</span><span class="p">(</span><span class="s1">&#39;block_panopto_instance_name&#39;</span><span class="p">,</span> <span class="s1">&#39;Moodle Instance Name&#39;</span><span class="p">,</span>
</span><span class='line'>                       <span class="s1">&#39;This value is prefixed before usernames and course-names in Panopto.&#39;</span><span class="p">,</span> <span class="s1">&#39;moodle&#39;</span><span class="p">,</span> <span class="nx">PARAM_TEXT</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">admin_setting_configtext</span><span class="p">(</span><span class="s1">&#39;block_panopto_server_name&#39;</span><span class="p">,</span> <span class="s1">&#39;Panopto Server Hostname&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">PARAM_TEXT</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">admin_setting_configtext</span><span class="p">(</span><span class="s1">&#39;block_panopto_application_key&#39;</span><span class="p">,</span> <span class="s1">&#39;Application Key&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">PARAM_TEXT</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$link</span> <span class="o">=</span><span class="s1">&#39;&lt;a href=&quot;&#39;</span><span class="o">.</span><span class="nv">$CFG</span><span class="o">-&gt;</span><span class="na">wwwroot</span><span class="o">.</span><span class="s1">&#39;/blocks/panopto/provision_course.php&quot;&gt;Add Moodle courses to Panopto CourseCast&lt;/a&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">admin_setting_heading</span><span class="p">(</span><span class="s1">&#39;block_panopto_add_courses&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$link</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>There are many more changes that occurred, and this post is only the tip of the iceberg, so post a comment if you can&rsquo;t find the replacement for a deprecated function, and I&rsquo;ll do my best to help you out. If you want to see a legitimate commit for the changes that I made to upgrade a 1.9 block to a working 2.0 block, take a look at <a href="https://github.com/SpenserJ/Moodle2-Panopto/commit/ca893577b7d34adbeca6e95f5fe2f54194d488a3">this commit</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-14T12:55:00-06:00" pubdate data-updated="true">Apr 14<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/moodle/'>Moodle</a>, <a class='category' href='/blog/categories/web/'>Web</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/14/fixing-the-blackbaud-netcommunity-login-form/">
		
			Fixing the Blackbaud NetCommunity Login Form</a>
	</h2>
	<div class="entry-content">
		<p>Blackbaud NetCommunity 6.15 has a bug in the login form, where tabbing onto the &ldquo;Remember Me&rdquo; field and pressing enter (normal functionality to submit a form) will take you back to the login form, with your username filled in, but no password or error. This is due to the fact that javascript is being (poorly) added directly to the HTML tags, instead of writing a simple, unobtrusive javascript function, that targets all fields on the form.</p>

<p>To remedy this, add a JS file to any layout that may contain a login field, and add this code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">((</span><span class="nx">$loginForm</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.LoginFormTable&#39;</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;input[type!=submit]&#39;</span><span class="p">,</span> <span class="nx">$loginForm</span><span class="p">).</span><span class="nx">keypress</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">((</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">13</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">ke</span> <span class="o">==</span> <span class="mi">13</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;input[type=submit]&#39;</span><span class="p">,</span> <span class="nx">$loginForm</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span class='line'>        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-14T12:52:00-06:00" pubdate data-updated="true">Apr 14<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blackbaud-netcommunity/'>Blackbaud NetCommunity</a>, <a class='category' href='/blog/categories/javascript/'>Javascript</a>, <a class='category' href='/blog/categories/web/'>Web</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/25/adding-iframes-to-blackbaud-netcommunity/">
		
			Adding iFrames to Blackbaud NetCommunity <= 6.15.70</a>
	</h2>
	<div class="entry-content">
		<p>Version 6.15 of Blackbaud NetCommunity consisted of many large changes to how BBNC works, one of which was the editor. In this update, Blackbaud moved from BBCuteEditor to TinyMCE (a great decision IMO, as TinyMCE is one of the most popular WYSIWYG editors). Sadly, patch 70 and below do not support iFrames, even if you have the iFrame set as a &ldquo;Safe HTML Tag&rdquo; in the settings. Blackbaud is working on a patch for this (patch 71 to be exact), however they do not have an ETA for it yet.</p>

<p>We have always had maps embedded in our website, to help visitors find us, and we recently decided to also embed a few YouTube videos. Due to the change in 6.15 however, we could no longer do so, and I went on a hunt to find the key to the iFrame kingdom. After using the find-in-file feature of Windows, and coming up short on anything, I wrote a quick little script to rewrite the editor initialization code, remove existing editors, and reinitialize them, with the iframe allowed. It wasn&rsquo;t the most elegant solution, however it worked for the interm, as I waited for Blackbaud to release P71. While implementing it however, I stumbled across the original initialization code, and instantly threw what I had written out.</p>

<p>Since it took a while for me to find this, I figure it may come in handy for anyone else that needs to add iFrames to TinyMCE in Blackbaud NetCommunity, or for anyone wanting to tweak the editor in the future.</p>

<p>The file that you&rsquo;ll want to edit is <code>{NetCommunity}/admin/HTMLEditorControl2.ascx</code>. For adding iFrames to the valid elements, I changed:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;appfx:HtmlEditorSetting Name="extended_valid_elements" Value="'style[dir&lt;ltr?rtl|lang|media|title|type]</span></code></pre></td></tr></table></div></figure>


<p>to:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;appfx:HtmlEditorSetting Name="extended_valid_elements" Value="'iframe[src|width|height|name|align],style[dir&lt;ltr?rtl|lang|media|title|type]</span></code></pre></td></tr></table></div></figure>


<p>Save the file, and refresh the editor, and you should now be able to insert iFrames into your page. Through this file, you can also change the theme that is used, disable certain toolbar buttons, and adjust anything else that is in the <a href="http://tinymce.moxiecode.com/wiki.php/Configuration">TinyMCE Configuration</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-03-25T12:47:00-06:00" pubdate data-updated="true">Mar 25<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blackbaud-netcommunity/'>Blackbaud NetCommunity</a>, <a class='category' href='/blog/categories/tinymce/'>TinyMCE</a>, <a class='category' href='/blog/categories/web/'>Web</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/02/23/creating-a-blackbaud-netcommunity-custom-part/">
		
			Creating a Blackbaud NetCommunity Custom Part</a>
	</h2>
	<div class="entry-content">
		<p>I&rsquo;ve recently been given the task of creating some custom plugins for NetCommunity, so we can do things like unify the design of our Faculty Biography pages at Ambrose. I have prior experience with C#, so I figured it would be a fairly simple process, once I figured out how their API works, however there is minimal documentation, and all of the tutorials online are either outdated or incomplete.</p>

<p>As such, I am going to write up a concise walkthrough for creating a NetCommunity plugin (for 6.15) using C#, from scratch, up until you have a functional part.</p>


		
		<a href="/blog/2011/02/23/creating-a-blackbaud-netcommunity-custom-part/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-02-23T18:32:00-07:00" pubdate data-updated="true">Feb 23<span>rd</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/asp-dot-net/'>ASP.Net</a>, <a class='category' href='/blog/categories/blackbaud-netcommunity/'>Blackbaud NetCommunity</a>, <a class='category' href='/blog/categories/c-number/'>C#</a>, <a class='category' href='/blog/categories/web/'>Web</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/12/20/locking-down-blackbaud-netcommunity-content-authoring/">
		
			Locking Down Blackbaud NetCommunity Content Authoring</a>
	</h2>
	<div class="entry-content">
		<p>At Ambrose University College, we run Blackbaud NetCommunity as our CMS, and I&rsquo;ve encountered a few issues with permissions for content authors, and how the editor itself works. Over the past few weeks, in an attempt to improve the experience of both our visitors, and our content authors, I have added a few lines to our website&rsquo;s javascript file (hosted in a document part).</p>

<p>One issue we have run into is that Internet Explorer does not play nice with our CSS3 box shadows (using CSS3Pie), and will save the progressive enhancements that are loaded specifically for IE, as part of the page and/or part, for all browsers. This results in pages that have been edited using IE, showing two box shadows in CSS3 compliant browsers, and only one in IE. Since IE is to blame (and has issues with other parts of the editor), I decided to kill off support for using IE when in administration mode.</p>


		
		<a href="/blog/2010/12/20/locking-down-blackbaud-netcommunity-content-authoring/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-12-20T18:21:00-07:00" pubdate data-updated="true">Dec 20<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ambrose/'>Ambrose</a>, <a class='category' href='/blog/categories/blackbaud-netcommunity/'>Blackbaud NetCommunity</a>, <a class='category' href='/blog/categories/javascript/'>Javascript</a>, <a class='category' href='/blog/categories/web/'>Web</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/12/17/css3-and-pictos/">
		
			CSS3 and Pictos</a>
	</h2>
	<div class="entry-content">
		<p>Over the past six months, I&rsquo;ve been charged with redeveloping the <a href="https://www2.ambrose.edu/">Ambrose University College</a> website, using BlackBaud NetCommunity. I worked together with the creative department (mainly focused on print media) for a new design (old one is <del><a href="https://www2.ambrose.edu/">here</a></del> offline), and with many other departments for training in content management and functionality. I&rsquo;ve learned quite a bit through the process, and grown immensely in my skills (primarily CSS and C#.Net). This post, however, is not so much about the experience I went through, as it is with the advancements I&rsquo;ve made when it comes to CSS3 replacing images, and support for it in all major browsers.</p>


		
		<a href="/blog/2010/12/17/css3-and-pictos/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-12-17T17:24:00-07:00" pubdate data-updated="true">Dec 17<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ambrose/'>Ambrose</a>, <a class='category' href='/blog/categories/css3/'>CSS3</a>, <a class='category' href='/blog/categories/web/'>Web</a>


</div>
	
</div></article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Spenser Jones

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'spenserj';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-35594055-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
